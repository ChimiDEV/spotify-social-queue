(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[110],{2119:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sessions/[sid]",function(){return t(3746)}])},5604:function(n,e,t){"use strict";t.d(e,{Z:function(){return f}});var r=t(5893),o=t(1528),a=t(2359),i=t(8157),s=t(6478),c=t(7294),u=t(1163),l=["wish","queue","poll"],d={"/wish":0,"/queue":1,"/poll":2};function f(){var n=(0,u.useRouter)(),e=(0,c.useState)(d[n.pathname]||0),t=e[0],f=e[1];return(0,r.jsxs)(o.Z,{showLabels:!0,sx:{position:"fixed",top:"auto",bottom:0,width:"100vw",backgroundColor:"#343a3f"},value:t,onChange:function(e,t){f(t),n.push("/".concat(l[t]))},children:[(0,r.jsx)(a.Z,{label:"Song w\xfcnschen",icon:(0,r.jsx)(i.Z,{}),sx:{color:"#fff"}}),(0,r.jsx)(a.Z,{label:"Queue",icon:(0,r.jsx)(s.Z,{}),sx:{color:"#fff"}})]})}},3746:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return a}});var r=t(5893),o=t(4314);function a(){return(0,r.jsx)(o.default,{})}},4314:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return S}});var r=t(5666),o=t.n(r),a=t(5893),i=t(5604),s=t(6744),c=(0,s.zo)("div",{marginTop:"1vh",marginBottom:"60px",marginLeft:"2vw",marginRight:"2vw",maxWidth:"96vw",overflowX:"hidden"});function u(n){var e=n.children;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{children:e}),(0,a.jsx)(i.Z,{})]})}var l=t(7357),d=t(8795),f=t(3321),p=t(7294),h=t(7450),x=t(8239),v=t(2255),w=(0,x.Z)({palette:{primary:{main:"#24a148"},info:{main:"#24a148"},text:{primary:"#000000",secondary:"#21272a",disabled:"#c1c7cd"},action:{hover:"#c1c7cd"}}}),m=(0,s.zo)(l.Z,{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%, -50%)",width:"96vw",backgroundColor:"#f2f4f8",padding:"20px"}),b=(0,s.zo)(d.Z,{"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"Black"}});function j(n){var e,t=n.open,r=n.onClose,o=n.onChange,i=n.onSubmit;return(0,a.jsx)(h.Z,{open:t,children:(0,a.jsx)(m,{children:(0,a.jsxs)(v.Z,{theme:w,children:[(0,a.jsx)(b,{label:"Spotify URL",variant:"outlined",size:"small",placeholder:"Bitte f\xfcge den Spotify URL hier ein",fullWidth:!0,onChange:o,onKeyDown:(e=i,function(n){"Enter"===n.code&&e()})}),(0,a.jsxs)(l.Z,{sx:{marginTop:"15px"},children:[(0,a.jsx)(f.Z,{onClick:r,children:"Abbrechen"}),(0,a.jsx)(f.Z,{variant:"contained",onClick:i,children:"Ok"})]})]})})})}var g=t(1163);function k(n,e,t,r,o,a,i){try{var s=n[a](i),c=s.value}catch(u){return void t(u)}s.done?e(c):Promise.resolve(c).then(r,o)}function Z(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(n){k(a,r,o,i,s,"next",n)}function s(n){k(a,r,o,i,s,"throw",n)}i(void 0)}))}}var C=Z(o().mark((function n(e,t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.startsWith("https://open.spotify.com/track")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,fetch("/api/sessions/".concat(e,"?track_id=").concat(t.split("/").pop().split("?")[0]),{method:"POST"});case 4:case"end":return n.stop()}}),n)}))),y=Z(o().mark((function n(e,t){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/sessions/".concat(e,"/tracks?q=").concat(t));case 2:return r=n.sent,n.abrupt("return",r.json());case 4:case"end":return n.stop()}}),n)})));function S(){var n=(0,p.useState)(),e=n[0],t=n[1],r=(0,p.useState)(),i=r[0],s=r[1],c=(0,p.useState)(!1),h=c[0],x=c[1],v=(0,p.useState)([]),w=v[0],m=v[1],b=(0,g.useRouter)(),k=function(){s(""),x(!1)},S=Z(o().mark((function n(t){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("Enter"===t.code){n.next=2;break}return n.abrupt("return");case 2:return n.t0=m,n.next=5,y(b.query.sid,e);case 5:n.t1=n.sent,(0,n.t0)(n.t1);case 7:case"end":return n.stop()}}),n)}))),_=Z(o().mark((function n(){var e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(navigator.clipboard){n.next=3;break}return x(!0),n.abrupt("return");case 3:return n.next=5,navigator.clipboard.readText();case 5:return e=n.sent,n.next=8,C(b.query.sid,e);case 8:case"end":return n.stop()}}),n)})));return(0,a.jsxs)(u,{children:[(0,a.jsx)(j,{onClose:k,onChange:function(n){return s(n.target.value)},onSubmit:Z(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C(b.query.sid,i);case 2:k();case 3:case"end":return n.stop()}}),n)}))),open:h}),(0,a.jsx)(l.Z,{sx:{paddingTop:"15px"},children:(0,a.jsx)(d.Z,{label:"Suche",variant:"outlined",size:"small",placeholder:"Suche nach deinem Wunschsong",fullWidth:!0,onChange:function(n){return t(n.target.value)},onKeyDown:S})}),(0,a.jsxs)(l.Z,{sx:{marginTop:"15px"},children:[(0,a.jsx)(f.Z,{onClick:_,children:"Aus Zwischenablage"}),(0,a.jsx)(f.Z,{variant:"contained",onClick:Z(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=m,n.next=3,y(b.query.sid,e);case 3:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 5:case"end":return n.stop()}}),n)}))),children:"Suchen"})]}),(0,a.jsx)(l.Z,{sx:{color:"white"},children:w.map((function(n,e){return(0,a.jsxs)("div",{children:[n.name," | ",n.artist]},e)}))})]})}}},function(n){n.O(0,[419,329,563,795,774,888,179],(function(){return e=2119,n(n.s=e);var e}));var e=n.O();_N_E=e}]);